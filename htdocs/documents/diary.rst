=========================
日報
=========================

:著者: yife

2012年6月11日
======================

| 課題を教えてもらった。
| まずはさくらサーバにLAMP構成をインストール。
| yife.infoのネームサーバをさくらに変更。
| suEXECに気づかなかったので大幅に時間をロス。
| smartyを導入終了 18:05
| 日報ファイルを作成 18:05
| サーバにffmpegをインストールするためにrpmforgeを追加 18:17
| ffmpegをインストール 18:17
| php-ffmpegがうまくコンパイルできないで詰まる 18:34
| php-ffmpegのmake testに失敗したままだけど、なんか動くみたい...? 19:21
| 動画のサムネイル画像を、フレーム指定して取ってくるところまで成功 19:40

2012/06/12
=================================
| ローカルにffmpegを入れて、どんなオプションをつければいいのか調査
| サーバ上でもきちんとH264+AACでエンコードできることを確認　12:41
| フロントエンドを作成開始...しようとしたら、要件定義してないことに気づいて書き出した
| データベーススキーマを構築
| mroongaを導入・動作確認 16:00
| 難しそうなところから手を着けよう...ということで、twitter oauthを理解する
| twitter oauthは外部アプリケーションのユーザ管理のためのツールではないことを理解した。
| OpenIDやはてなAPIも試してみたが、よくわからない。はてなはなぜかエラーが出る
| phpUserClassというライブラリを見つけたのでそれで行こうと考えている 16:45
| phpUserClassもひととおり読んだので、とりあえずtwitter bootstrapでindex.phpとかつくってる 18:19
| ひととおりフロントエンドもやっつけたので、ログインかどうかの判別を各ページに実装する　19:07
| とりあえずログインページから実装するよ 19:08
| なんかCSRFのことが頭から離れなくて、無意識に実装してたけど、手間がかかるからやめる 20:05
| ログインページの仕組みをつくりおわた！ たぶんログイン周りは理解したと思うよー 20:22
| アカウント登録ページ触ってる。まさかのパスワード空白OKだったのでチェック処理しないと... 21:03
| アカウント登録ページも作成完了しますた　21:46

2012/06/13
=========================================
| さて、なにをしようかな... 11:26
| アップロードページをつくろうかな。まずはログイン状態でのみアップロードフォームが出るように。 11:26
| ログイン状態かどうかで、アップロードの表示を切り替えるのに成功しました 11:55
| アップロードの実装に入りますー。どうやってやるのかわかんないな 11:55
| おひるごはん。帰ってきたらバグ取りから 13:00
| ファイルのアップロード部分しゅうりょー 14:43
| 次なにつくろうかな... 眠い 順番的にはクローラかなぁ？ 14:44
| クローラつくる 14:44
| そのまえに、アップローダで2Mを越えるファイルがアップロードできなかったのを修正。 14:53
| クローラで、キューから動画情報を取ってきて、置いてあるファイルを変換して新しいファイルを置き直すところまでは完了 15:54
| クローラがエンコード待ちキューからエンコード終わったファイルを削除するの完了したお... DELETE権限つけるの忘れてて大幅に時間ロスしたお 16:58
| クローラ完成 17:05
| ビューワつくる 17:07
| Asciiのサンプルを見てパクってるところ 19:10
| とりまコメントが流れるようになった。ただし、あたらしくコメントをjsonに追加する部分は未実装 21:01
| GETリクエストによって、JSONファイルに追記するHTTP APIを実装すればいいかな？ 21:01

2012/06/14
=================================================
| 朝からビューワページを実装してた
| コメント投稿APIつくった
| ビューワページにきちんとコメントが流れるようにした
| ビューワページでコメントを入力すると、jsonに反映されるようになった！ 15:52